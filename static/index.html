<script src="/socket.io/socket.io.js"></script>
<script src="/static/clientSocketController.js"></script>
<script src="/static/clientSocketInfo.js"></script>
<script type="text/javascript">
	var socket = io('/index-page');
</script>
<body>
	<h1>Welcome player</h1>

    <div id="helicopter-container">
    </div>
    <div id="test"></div>
    <script>
        var serverInfo = new serverInfo(socket);
    </script>
    <script type="text/javascript" src="/static/cookies.js"></script>
    <script type="text/javascript" src="/static/helicopter.js"></script>
    <script>
    	//this will cause the server info object to refresh every 50 milliseconds
    	setInterval('serverInfo.checkPress()', 50);
        // initialise the copter
        jsCopter.init("helicopter", "helicopter-container", serverInfo);
    </script>
    <script>
        /* re-direct if more than 1 player navigated to game's url */
        serverInfo.getNumPlayers() // let server know to get players
        socket.on('players', function (players) {
            console.log("players");
            console.log(players);
            if (players > 1)
                location.replace(location.href+"static/button.html")
        });
    </script>
</body>
